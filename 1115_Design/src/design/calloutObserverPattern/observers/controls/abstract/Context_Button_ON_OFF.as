package design.calloutObserverPattern.observers.controls.abstract{import design.calloutObserverPattern.interfaces.ICallOutObserver;import design.calloutObserverPattern.observers.controls.ButtonOFFState;import design.calloutObserverPattern.observers.controls.ButtonONStateimport design.calloutObserverPattern.observers.controls.ButtonOVERState;import flash.display.MovieClip;import flash.display.Sprite;//Context class	public class Context_Button_ON_OFF implements ICallOutObserver	{		private var onButton:IState_ButtonONOFF;		private var offButton:IState_ButtonONOFF;        private var overButton:IState_ButtonONOFF;        private var state:IState_ButtonONOFF;        protected var _callSubject:Function;        protected var _sendToSubjectVars:Object;        protected var updateParams:Object = {};		public function Context_Button_ON_OFF(_target:Sprite, data:Object = null)		{            onButton = new ButtonONState(this, _target);            offButton = new ButtonOFFState(this, _target);            overButton = new ButtonOVERState(this, _target);			state=onButton;            _sendToSubjectVars = {};		}		public function ON():void		{			state.ON();            _sendToSubjectVars.allOn = true;//            _sendToSubjectVars.allClose = true;            callSubject();		}		public function OFF():void		{			state.OFF();            _sendToSubjectVars.allOn = false;            callSubject();		}        public function OVER():void {            state.OVER();        }		public function setState(state:IState_ButtonONOFF):void		{			this.state=state;		}		public function getState():IState_ButtonONOFF		{			return state;		}		public function getOnButtonState():IState_ButtonONOFF		{			return this.onButton;		}		public function getOffButtonState():IState_ButtonONOFF		{			return this.offButton;		}        public function notify(params:Object):void        {//        trace("Notified: " + params.to);        }        /**         * Callback function to call Subject         * @param func         */        public function setCallSubectFunction(func:Function):void {            _callSubject = func;        }        public function callSubject():void {                _callSubject.apply(null, [_sendToSubjectVars]);        }	}}